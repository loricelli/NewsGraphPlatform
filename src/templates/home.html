{% extends "base.html" %}
{% block content %}
{% load static %}
<div class="jumbotron home-jumbotron">
  <div class = "jumbotron-text">
    <h1 class="display-1">NewsGraph!</h1>
    <p class="lead">Make the News World a better place.</p>
  </div>
  <hr class="my-4">
  <a class="btn btn-outline-light btn-lg" href="/read_news" role="button">Start Now!</a>
</div>


<script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
<script src="https://d3js.org/d3-quadtree.v1.min.js"></script>
<script src="https://d3js.org/d3-timer.v1.min.js"></script>
<script src="https://d3js.org/d3-force.v2.min.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>
{{ edges|json_script:"edges" }}
{{ nodes|json_script:"nodes" }}



<h1 class="home-titles" id="latest-fakes"> LATEST FAKE NEWS</h1>
<div class="container-fluid">
  <div class="row home-row">

    <div class="col-md-6 offset-md-3">
      <div class="list-group list-group-flush list-group-hover">
        {% for title,black,white,tot in fake_news %}
        <div class="list-group-item list-group-item-action flex-column align-items-start ">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{title}}</h5>
          </div>
          <div class="progress" style="height:2px;margin-top:2%;">
            <div class="progress-bar bg-danger" role="progressbar" style="width:{% widthratio  white tot 100%}%;" ></div>
            <div class="progress-bar bg-success" role="progressbar" style="width:{% widthratio  black tot 100%}%;"></div>
          </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<h1 class="home-titles" id="graph"> THE GRAPH</h1>
<div class="container-fluid">
  <div class="row home-row">
    <svg id="chart"></svg>
  </div>
</div>

<script src="{% static 'scripts/d3_graph.js' %}"></script>
<script src="{% static 'scripts/alert_close.js' %}"></script>
{% endblock %}
